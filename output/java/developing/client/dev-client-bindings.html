<!DOCTYPE html>
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link type="text/css" rel="stylesheet" href="/resources/site.css" />
    <script src="/resources/space.js" type="text/javascript"></script>
    <meta name="keywords" content="CMIS, Content Management Interoperability Service, ECM, Enterprise Content Management, OASIS, integration standards, Chemistry, OpenCMIS, cmislib, DotCMIS, PortCMIS, ObjectiveCMIS" />
    <meta name="description" content="Apache Chemistry, CMIS Implementation" />
    <link rel="shortcut icon" href="/favicon.ico">
    <title>Apache Chemistry - OpenCMIS Client Bindings</title>
    <style>
.headerlink {
    visibility: hidden;
}
dt:hover > .headerlink, p:hover > .headerlink, td:hover > .headerlink, h1:hover > .headerlink, h2:hover > .headerlink, h3:hover > .headerlink, h4:hover > .headerlink, h5:hover > .headerlink, h6:hover > .headerlink {
    visibility: visible;
}
    </style>
  </head>
<body onload="init()">
  <table width="100%" cellpadding="0" cellspacing="0">
    <tr width="100%">
      <td id="cell-0-0">&nbsp;</td>
      <td id="cell-0-1">&nbsp;</td>
      <td id="cell-0-2">&nbsp;</td>
    </tr>
    <tr width="100%">
      <td id="cell-1-0">&nbsp;</td>
      <td id="cell-1-1">
        <div id="banner" style="padding: 0px;">
          <!-- Banner -->
          <A href="https://chemistry.apache.org/" title="Apache Chemistry">
            <IMG src="/images/chemistry_tm_logo.png" style="float:left; border:0px;"/>
          </A>
          <A href="https://www.apache.org/" title="The Apache Software Foundation">
            <IMG src="/images/asf-logo.png"  style="float:right; border:0px;"/>
           </A>
          <!-- Banner -->
        </div>
        <div id="top-menu">
          <table border="0" cellpadding="1" cellspacing="0" width="100%">
            <tr>
              <td>
                <div align="left">
                <!-- Breadcrumbs -->
<a href="/">Home</a>&nbsp;&raquo&nbsp;<a href="/java/">Java</a>&nbsp;&raquo&nbsp;<a href="/java/developing/">Developing</a>&nbsp;&raquo&nbsp;<a href="/java/developing/client/">Client</a>&nbsp;&raquo&nbsp;<a href="#">OpenCMIS Client Bindings</a>
                <!-- Breadcrumbs -->
                </div>
              </td>
              <td>
                <div align="right">
                <!-- Quicklinks -->
<P>
<A href="https://www.apache.org/" class="external-link" rel="nofollow">Apache</A>
|
<A href="https://www.apache.org/licenses/LICENSE-2.0.html" class="external-link" rel="nofollow">License</A>
</P>
                <!-- Quicklinks -->
                </div>
              </td>
            </tr>
          </table>
        </div>
      </td>
      <td id="cell-1-2">&nbsp;</td>
    </tr>
    <tr width="100%">
      <td id="cell-2-0">&nbsp;</td>
      <td id="cell-2-1">
        <table>
          <tr height="100%" valign="top">
            <td height="100%">
              <div id="wrapper-menu-page-right">
                <div id="wrapper-menu-page-top">
                  <div id="wrapper-menu-page-bottom">
                    <div id="menu-page">
                      <!-- NavigationBar -->

<H3><A name="Navigation-Overview"></A>Overview</H3>

<UL class="alternate" type="square">
   <LI><A href="/project/cmis.html" title="What's CMIS">What is CMIS?</A></LI>
   <LI><A href="https://www.apache.org/licenses/" class="external-link" rel="nofollow">License</A></LI>
   <LI><A href="/project/community.html" title="Community">Community</A></LI>
   <LI><A href="https://lists.apache.org/list.html?dev@chemistry.apache.org" class="external-link" rel="nofollow">Mailing List</A></LI>
   <LI><A href="https://issues.apache.org/jira/browse/CMIS" class="external-link" rel="nofollow">Issue Tracking</A></LI>
   <LI><A href="https://www.apache.org/security/" class="external-link" rel="nofollow">Security</A></LI>
</UL>


<H3><A name="Navigation-Search"></A>Search</H3>

<DIV style="padding: 0px 0px 0px 20px;">
<FORM action="https://www.google.com/search" method="get" style="font-size: 10px;">
<INPUT name="ie" type="hidden" value="UTF-8"></INPUT>
<INPUT name="oe" type="hidden" value="UTF-8"></INPUT>
  <INPUT maxlength="255" name="q" size="12" type="text" value=""></INPUT>
  <INPUT name="btnG" type="submit" value="Search"></INPUT>
  <INPUT name="domains" type="hidden" value="chemistry.apache.org"></INPUT>
  <INPUT name="sitesearch" type="hidden" value="chemistry.apache.org"></INPUT>
</FORM>
</DIV>


<H3><A name="Navigation-CMISforJava"></A>CMIS for Java</H3>

<UL class="alternate" type="square">
  <LI><A href="/java/opencmis.html" title="OpenCMIS Overview and Index">Overview</A></LI>
  <LI><A href="/java/download.html" title="Downloads">Downloads</A></LI>
  <LI><A href="/docs/cmis-samples/" title="Downloads">Code Samples</A></LI>
  <LI><A href="/java/javadoc">JavaDoc</A></LI>
  <LI><A href="https://svn.apache.org/repos/asf/chemistry/opencmis/trunk/" class="external-link" rel="nofollow">Source Code</A></LI>
</UL>


<H3><A name="Navigation-CMISforPython"></A>CMIS for Python</H3>

<UL class="alternate" type="square">
  <LI><A href="/python/cmislib.html" title="cmislib">cmislib</A></LI>
  <LI><A href="/python/docs/" rel="nofollow">cmislib Documentation</A></LI>
  <LI><A href="https://svn.apache.org/repos/asf/chemistry/cmislib/trunk/" class="external-link" rel="nofollow">Source Code</A></LI>
</UL>


<H3><A name="Navigation-CMISforPHP"></A>CMIS for PHP</H3>

<UL class="alternate" type="square">
  <LI><A href="/php/phpclient.html" title="phpclient">CMIS PHP Client</A></LI>
  <LI><A href="https://svn.apache.org/repos/asf/chemistry/phpclient/trunk/" class="external-link" rel="nofollow">Source Code</A></LI>
</UL>


<H3><A name="Navigation-CMISfor.NET"></A>CMIS for .NET</H3>

<UL class="alternate" type="square">
  <LI><A href="/dotnet/dotcmis.html" title="DotCMIS">DotCMIS</A></LI>
  <LI><A href="https://svn.apache.org/repos/asf/chemistry/dotcmis/trunk/" class="external-link" rel="nofollow">DotCMIS Source Code</A></LI>
  <LI><A href="/dotnet/portcmis.html" title="PortCMIS">PortCMIS</A></LI>
  <LI><A href="https://svn.apache.org/repos/asf/chemistry/portcmis/trunk/" class="external-link" rel="nofollow">PortCMIS Source Code</A></LI>
  <LI><A href="/docs/cmis-samples/" title="Downloads">Code Samples</A></LI>
</UL>


<H3><A name="Navigation-CMISforObjective-C"></A>CMIS for Objective-C</H3>

<UL class="alternate" type="square">
  <LI><A href="/objective-c/objectivecmis.html" title="ObjectiveCMIS">ObjectiveCMIS</A></LI>
  <LI><A href="https://svn.apache.org/repos/asf/chemistry/objectivecmis/trunk/" class="external-link" rel="nofollow">Source Code</A></LI>
</UL>

<H3><A name="Navigation-CMISforJavaScript"></A>CMIS for JavaScript</H3>

<UL class="alternate" type="square">
  <LI><A href="/javascript/parts.html" title="Chemistry Parts">Chemistry Parts</A></LI>
  <LI><A href="https://svn.apache.org/repos/asf/chemistry/parts/trunk/" class="external-link" rel="nofollow">Source Code</A></LI>
</UL>


<H3><A name="Navigation-Sponsorship"></A>Sponsorship</H3>

<UL class="alternate" type="square">
   <LI><A href="https://www.apache.org/foundation/thanks.html" class="external-link" rel="nofollow">Thanks</A></LI>
   <LI><A href="https://www.apache.org/foundation/sponsorship.html" class="external-link" rel="nofollow">Sponsoring Apache</A></LI>
</UL>


<H3><A name="Navigation-Internal"></A>Internal Docs</H3>

<UL class="alternate" type="square">
   <LI><A href="/internal/internal-index.html" rel="nofollow"> Internal Documentation</A></LI>
</UL>
                    <!-- NavigationBar -->
                    </div>
                </div>
              </div>
            </div>
           </td>
           <td height="100%">
             <!-- Content -->
             <div class="wiki-content">    <h1 id="opencmis-client-bindings">OpenCMIS Client Bindings<a class="headerlink" href="#opencmis-client-bindings" title="Permalink">&para;</a></h1>
<p><a name="OpenCMISClientBindings-OpenCMISClientBindings"></a></p>
<p>The OpenCMIS client bindings layer hides the CMIS AtomPub and Web Services
bindings and provides an interface that is very similar to the <a href="http://docs.oasis-open.org/cmis/CMIS/v1.0/cs01/cmis-spec-v1.0.html#_Toc243905381">CMIS domain model</a>
. The services, operations, parameters, and structures are named after the
CMIS domain model and behave as described in the CMIS specification.</p>
<p>The primary objective of the client bindings layer is to be complete,
covering all CMIS operations and extension points. The result is a somewhat
clunky interface. The <a href="dev-client-api.html">OpenCMIS Client API</a>
sits on top of the provider layer and exposes a nicer and simpler to use
interface. It is the better choice for most applications.</p>
<p>A connection to a CMIS repository is represented by a <a href="http://chemistry.apache.org/java/0.4.0/maven/apidocs/org/apache/chemistry/opencmis/commons/spi/CmisBinding.html"><code>CmisBinding</code></a>
object. Such an object can be created by the <a href="http://chemistry.apache.org/java/0.4.0/maven/apidocs/org/apache/chemistry/opencmis/client/bindings/CmisBindingFactory.html"><code>CmisBindingFactory</code></a>.
The factory provides three main methods, one for each binding and third
one for a local connection (same JVM), that require binding specific
connection information. The created <code>CmisBinding</code> object exposes a
binding agnostic interface.</p>
<p><code>CmisBinding</code> is the entry point to the CMIS services and a few utility
operations. It contains a transparent cache for repository infos and type
definitions. The object is serializable, although dehydrating can be
expensive. <code>CmisBinding</code> is thread-safe.</p>
<p>The get*Service() methods provide access to the CMIS services. Some
service operations take provider layer specific objects. These objects
should be created with the <a href="http://chemistry.apache.org/java/0.4.0/maven/apidocs/org/apache/chemistry/opencmis/commons/spi/BindingsObjectFactory.html"><code>BindingsObjectFactory</code></a>.
This factory can be obtained through the <code>getObjectFactory()</code> method of the <code>CmisBinding</code> object.</p>
<p>Please refer to the OpenCMIS Commons <a href="http://chemistry.apache.org/java/0.4.0/maven/apidocs/">JavaDoc</a>
and OpenCMIS Client Binding <a href="http://chemistry.apache.org/java/0.4.0/maven/apidocs/">JavaDoc</a>
for more details on the interfaces.</p>
<p><a name="OpenCMISClientBindings-SampleCode"></a></p>
<h2 id="sample-code">Sample Code<a class="headerlink" href="#sample-code" title="Permalink">&para;</a></h2>
<p><a name="OpenCMISClientBindings-CreatinganAtomPubbindinginstance"></a></p>
<h3 id="creating-an-atompub-binding-instance">Creating an AtomPub binding instance<a class="headerlink" href="#creating-an-atompub-binding-instance" title="Permalink">&para;</a></h3>
<p>The AtomPub binding requires the URL of the CMIS service document. HTTP
basic authentication is enabled by default and a username and a password
have to be provided.</p>
<pre><code class="language-java">    Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
    
    parameters.put(SessionParameter.USER, user);
    parameters.put(SessionParameter.PASSWORD, password);
    
    parameters.put(SessionParameter.ATOMPUB_URL, url); // service document URL
    
    CmisBindingFactory factory = CmisBindingFactory.newInstance();
    CmisBinding binding = factory.createCmisAtomPubBinding(parameters);
</code></pre>
<h3 id="creating-a-web-services-binding-instance">Creating a Web Services binding instance<a class="headerlink" href="#creating-a-web-services-binding-instance" title="Permalink">&para;</a></h3>
<p>The Web Services binding requires a WSDL URL for each CMIS service. This
might the same the URL for all services. WS-Security (UsernameToken) is
enabled by default and a username and a password have to be provided.</p>
<pre><code class="language-java">    Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
    
    parameters.put(SessionParameter.USER, username);
    parameters.put(SessionParameter.PASSWORD, password);
    
    parameters.put(SessionParameter.WEBSERVICES_REPOSITORY_SERVICE, repositoryServiceWsdlUrl);
    parameters.put(SessionParameter.WEBSERVICES_NAVIGATION_SERVICE, navigationServiceWsdlUrl);
    parameters.put(SessionParameter.WEBSERVICES_OBJECT_SERVICE, objectServiceWsdlUrl);
    parameters.put(SessionParameter.WEBSERVICES_VERSIONING_SERVICE, versioningServiceWsdlUrl);
    parameters.put(SessionParameter.WEBSERVICES_DISCOVERY_SERVICE, discoveryServiceWsdlUrl);
    parameters.put(SessionParameter.WEBSERVICES_RELATIONSHIP_SERVICE, relationshipServiceWsdlUrl);
    parameters.put(SessionParameter.WEBSERVICES_MULTIFILING_SERVICE, multiFilingServiceWsdlUrl);
    parameters.put(SessionParameter.WEBSERVICES_POLICY_SERVICE, policyServiceWsdlUrl);
    parameters.put(SessionParameter.WEBSERVICES_ACL_SERVICE, aclServiceWsdlUrl);
    
    CmisBindingFactory factory = CmisBindingFactory.newInstance();
    CmisBinding binding = factory.createCmisWebServicesBinding(parameters);
</code></pre>
<p><a name="OpenCMISClientBindings-CreatingaLocalbindinginstance"></a></p>
<h3 id="creating-a-local-binding-instance">Creating a Local binding instance<a class="headerlink" href="#creating-a-local-binding-instance" title="Permalink">&para;</a></h3>
<p>The Local binding connects to an OpenCMIS server in the same JVM. The
server factory class name has to be supplied.</p>
<pre><code class="language-java">    Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
    
    parameters.put(SessionParameter.USER, user);
    parameters.put(SessionParameter.PASSWORD, password);
    
    parameters.put(SessionParameter.LOCAL_FACTORY, factoryClassName);
    
    CmisBindingFactory factory = CmisBindingFactory.newInstance();
    CmisBinding binding = factory.createCmisLocalBinding(parameters);
</code></pre>
<h3 id="getting-an-object">Getting an Object<a class="headerlink" href="#getting-an-object" title="Permalink">&para;</a></h3>
<p>The following snippet gets the name of the object "myObject" in repository
"myRepository". The parameters of <code>getObject()</code> can be found in the CMIS
specification.</p>
<pre><code class="language-java">    CmisBinding binding = ...
    
    ObjectData myObject = binding.getObjectService().getObject("myRepository", "myObject",
       "*", true, IncludeRelationships.BOTH, "cmis:none", true, true, null);
    
    PropertiesData properties = myObject.getProperties();
    PropertyData&lt;String&gt; nameProperty = properties.getProperties().get(PropertyIds.NAME);
    String name = nameProperty.getFirstValue();
</code></pre>
<p><a name="OpenCMISClientBindings-CustomAuthenticationProvider"></a></p>
<h2 id="custom-authentication-provider">Custom Authentication Provider<a class="headerlink" href="#custom-authentication-provider" title="Permalink">&para;</a></h2>
<p>OpenCMIS supports HTTP basic authentication for the AtomPub binding and
WS-Security (UsernameToken) for the Web Services binding out of the box.
Other authentication methods can be added by implementing a custom
authentication provider.</p>
<p>Such a provider must extend
<code>org.apache.chemistry.opencmis.client.provider.spi.AbstractAuthenticationProvider</code>
and overwrite the methods <code>getHTTPHeaders</code> and <code>getSOAPHeaders</code>. See
JavaDoc for details.</p>
<p>The session parameter <code>SessionParameter.AUTHENTICATION_PROVIDER_CLASS</code>
must be set to the fully qualified class name in order to active the
authentication provider before the session is created.</p>
<pre><code class="language-java">    Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
    
    parameters.put(SessionParameter.AUTHENTICATION_PROVIDER_CLASS, "org.example.opencmis.MyAuthenticationProvider");
    parameters.put("org.example.opencmis.user", "cmisuser"); // MyAuthenticationProvider can get and evaluate this
    parameters.put("org.example.opencmis.secret", "b3BlbmNtaXMgdXNlcg==");
    
    parameters.put(SessionParameter.ATOMPUB_URL, url); // service document URL
    
    CmisBindingFactory factory = CmisBindingFactory.newInstance();
    CmisBinding provider = factory.createCmisAtomPubBinding(parameters);
</code></pre>

</div>
             <!-- Content -->
           </td>
          </tr>
        </table>
     </td>
     <td id="cell-2-2">&nbsp;</td>
    </tr>
    <tr width="100%">
      <td id="cell-3-0">&nbsp;</td>
      <td id="cell-3-1">&nbsp;</td>
      <td id="cell-3-2">&nbsp;</td>
    </tr>
    <tr width="100%">
     <td id="cell-3-0">&nbsp;</td>
     <td id="cell-3-1">
       <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
          Apache Chemistry, Apache, the Apache feather logo, and the Apache 
          Chemistry project logo are trademarks of The Apache Software 
          Foundation.
          <br>
          Content Management Interoperability Services (CMIS) is an
          <a href="https://www.oasis-open.org/committees/cmis/">OASIS</a>
          specification.
       </div>
       <!-- Footer -->
       </div>
     </td>
     <td id="cell-3-2">&nbsp;</td>
    </tr>
    <tr width="100%">
      <td id="cell-4-0">&nbsp;</td>
      <td id="cell-4-1">&nbsp;</td>
      <td id="cell-4-2">&nbsp;</td>
    </tr>
  </table>
  <script type="text/javascript" src="/resources/retina.min.js"></script>
  <link rel="stylesheet" href="/resources/xcode.css">
  <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.0.1/build/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
</body>
</html>